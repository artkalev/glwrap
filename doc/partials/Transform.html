<h1 class="page-title">Transform</h1>







<section>

<header>
    
        <h2>
        Transform
        </h2>
        
            <div class="class-description">This is main class to represent an object with given mesh 
that can be placed into a "world".</div>
        
    
</header>



<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name " id="Transform">new <a href="transform.js.html#line11">Transform</a><span class="signature">(mesh, program)</span><span class="type-signature"></span>

    

    </h4>

    











    <h5>Arguments:</h5>
    

<ol>
  
  <li>
     <code>mesh</code> <code>(<span class="param-type"><a href="Mesh.html">Mesh</a></span>)</code>&nbsp;&nbspmesh to be assigned to this transform.
     
  </li>
  
  <li>
     <code>program</code> <code>(<span class="param-type"><a href="ShaderProgram.html">ShaderProgram</a></span>)</code>&nbsp;&nbspshader program to be used while drawing the mesh.
     
  </li>
  
</ol>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















    
    </div>

    

    

    

    

     

    

    
        <h2 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="children"><a href="transform.js.html#line82">children</a><span class="type-signature">: Array.&lt;<a href="Transform.html">Transform</a>></span>

   <span class="member-attr readonly">readonly</span>

</h4>




<div class="description">
    children Transforms of this. Use <a href="Transform.html#addChild">Transform#addChild</a> instead of changing this directly.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="id"><a href="transform.js.html#line17">id</a><span class="type-signature">: Number</span>

   <span class="member-attr readonly">readonly</span>

</h4>




<div class="description">
    a random number assigned at creation.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="localPos"><a href="transform.js.html#line24">localPos</a><span class="type-signature">: <a href="Vec3.html">Vec3</a></span>

</h4>




<div class="description">
    Translation in localSpace. set <a href="Transform.html#matrixNeedsUpdate">Transform#matrixNeedsUpdate</a> true after modifying manually!
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="localRot"><a href="transform.js.html#line30">localRot</a><span class="type-signature">: <a href="Quat.html">Quat</a></span>

</h4>




<div class="description">
    Rotation in localSpace. set <a href="Transform.html#matrixNeedsUpdate">Transform#matrixNeedsUpdate</a> true after modifying manually!
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="localScale"><a href="transform.js.html#line36">localScale</a><span class="type-signature">: <a href="Vec3.html">Vec3</a></span>

</h4>




<div class="description">
    Scale in localSpace. set <a href="Transform.html#matrixNeedsUpdate">Transform#matrixNeedsUpdate</a> true after modifying manually!
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="localToWorld"><a href="transform.js.html#line42">localToWorld</a><span class="type-signature">: Mat4</span>

</h4>




<div class="description">
    transformation from localSpace to world space. This is used as model matrix in glsl.
Calculated from <a href="Transform.html#localPos">Transform#localPos</a>,<a href="Transform.html#localRot">Transform#localRot</a>,<a href="Transform.html#localScale">Transform#localScale</a>
and <a href="Transform.html#parent">Transform#parent</a> matrix.
if <a href="Transform.html#matrixNeedsUpdate">Transform#matrixNeedsUpdate</a> is true, it will be recalculated at next <a href="Transform.html#update">Transform#update</a> call.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="matrixNeedsUpdate"><a href="transform.js.html#line89">matrixNeedsUpdate</a><span class="type-signature">: Boolean</span>

</h4>




<div class="description">
    if true, <a href="Transform.html#localToWorld">Transform#localToWorld</a> is recalculated at next <a href="Transform.html#update">Transform#update</a> call.
This avoids recalculation of matrices after every additional transformation.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="mesh"><a href="transform.js.html#line68">mesh</a><span class="type-signature">: <a href="Mesh.html">Mesh</a></span>

</h4>




<div class="description">
    mesh linked to this transformation.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="parent"><a href="transform.js.html#line74">parent</a><span class="type-signature">: <a href="Transform.html">Transform</a></span>

   <span class="member-attr readonly">readonly</span>

</h4>




<div class="description">
    parent transformation of this. It will affect the <a href="Transform.html#localToWorld">Transform#localToWorld</a> matrix.
use Transform#setparent instead of changing this directly.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="program"><a href="transform.js.html#line57">program</a><span class="type-signature">: <a href="ShaderProgram.html">ShaderProgram</a></span>

</h4>




<div class="description">
    shader program which is used when drawing <a href="Transform.html#mesh">Transform#mesh</a>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="uniforms"><a href="transform.js.html#line67">uniforms</a><span class="type-signature">: Object.&lt;String, <a href="global.html#Uniform">Uniform</a>></span>

</h4>




<div class="description">
    optional uniforms for this transform. they will override the uniforms in <a href="Transform.html#program">Transform#program</a>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="visible"><a href="transform.js.html#line96">visible</a><span class="type-signature">: Boolean</span>

</h4>




<div class="description">
    controls wether this object is rendered or not.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="worldToLocal"><a href="transform.js.html#line51">worldToLocal</a><span class="type-signature">: Mat4</span>

</h4>




<div class="description">
    transformation from world space to local space. This is just <a href="Transform.html#localToWorld">Transform#localToWorld</a> inverted.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
    

    
        <h2 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name " id="addChild"><a href="transform.js.html#line118">addChild</a><span class="signature">(child)</span><span class="type-signature"></span>

    

    </h4>

    



<div class="description">
    pushes the transform to this.children. Does nothing when given transform is already a child.
</div>









    <h5>Arguments:</h5>
    

<ol>
  
  <li>
     <code>child</code> <code>(<span class="param-type"><a href="Transform.html">Transform</a></span>)</code>&nbsp;&nbspnew child.
     
  </li>
  
</ol>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name " id="draw"><a href="transform.js.html#line168">draw</a><span class="signature">(gl, viewMatrix, projectionMatrix)</span><span class="type-signature"></span>

    

    </h4>

    



<div class="description">
    main method to draw this.mesh. binds the shaderprogram and assigns uniforms to it.
</div>









    <h5>Arguments:</h5>
    

<ol>
  
  <li>
     <code>gl</code> <code>(<span class="param-type">WebglRenderingContext</span>)</code>&nbsp;&nbspgl context
     
  </li>
  
  <li>
     <code>viewMatrix</code> <code>(<span class="param-type">Float32Array</span>)</code>&nbsp;&nbspviewMatrix to be used by the shaderProgram. if null then identity matrix is used
     
  </li>
  
  <li>
     <code>projectionMatrix</code> <code>(<span class="param-type">Float32Array</span>)</code>&nbsp;&nbspprojection matrix to be used by the shader program. if null identity matrix is used
     
  </li>
  
</ol>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name " id="onBeforeDraw"><a href="transform.js.html#line158">onBeforeDraw</a><span class="signature">(gl)</span><span class="type-signature"></span>

    

    </h4>

    



<div class="description">
    an overridable method to be called before drawing.
</div>









    <h5>Arguments:</h5>
    

<ol>
  
  <li>
     <code>gl</code> <code>(<span class="param-type">WebglRenderingContext</span>)</code>&nbsp;&nbspgl context
     
  </li>
  
</ol>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name " id="setParent"><a href="transform.js.html#line109">setParent</a><span class="signature">(parent)</span><span class="type-signature"></span>

    

    </h4>

    



<div class="description">
    sets the parent for this transformation object. This affects the localToWorld and worldToLocal matrices.
</div>









    <h5>Arguments:</h5>
    

<ol>
  
  <li>
     <code>parent</code> <code>(<span class="param-type"><a href="Transform.html">Transform</a></span>)</code>&nbsp;&nbspnew parent.
     
  </li>
  
</ol>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name " id="update"><a href="transform.js.html#line130">update</a><span class="signature">()</span><span class="type-signature"></span>

    

    </h4>

    



<div class="description">
    this should be called from your mainloop implementation before rendering a frame.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name " id="updateMatrix"><a href="transform.js.html#line140">updateMatrix</a><span class="signature">()</span><span class="type-signature"></span>

    

    </h4>

    



<div class="description">
    updates localToWorld and worldToLocal matrices. 
it Is called from <a href="Transform.html#update">Transform#update</a> if <a href="Transform.html#matrixNeedsUpdate">Transform#matrixNeedsUpdate</a> is true.
Also recursively updates the bounds of this and the parent chain.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
    

    

    
</article>

</section>
<div class="forScrollToTop"></div>